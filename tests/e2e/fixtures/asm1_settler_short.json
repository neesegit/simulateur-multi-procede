{
  "name": "e2e_asm1_settler",
  "description": "Simulation E2E ASM1 + décanteur secondaire — 4 pas de 30 min",
  "simulation": {
    "start_time": "2025-01-01T00:00:00",
    "end_time":   "2025-01-01T02:00:00",
    "timestep_hours": 0.5
  },
  "influent": {
    "flowrate": 1000.0,
    "temperature": 20.0,
    "auto_fractionate": true,
    "composition": {
      "cod": 500.0,
      "ss":  250.0,
      "tkn": 40.0,
      "nh4": 28.0,
      "no3": 0.5,
      "po4": 8.0,
      "alkalinity": 6.0
    }
  },
  "processes": [
    {
      "node_id": "bassin",
      "type":    "ActivatedSludgeProcess",
      "name":    "Bassin aération",
      "config": {
        "model":                     "ASM1Model",
        "volume":                    5000.0,
        "dissolved_oxygen_setpoint": 2.0,
        "recycle_ratio":             0.0,
        "waste_ratio":               0.01
      }
    },
    {
      "node_id": "decanteur",
      "type":    "SecondarySettlerProcess",
      "name":    "Décanteur secondaire",
      "config": {
        "area":            500.0,
        "depth":           4.0,
        "n_layers":        10,
        "underflow_ratio": 0.6
      }
    }
  ],
  "connections": [
    { "source": "influent",  "target": "bassin",    "fraction": 1.0, "is_recycle": false },
    { "source": "bassin",    "target": "decanteur", "fraction": 1.0, "is_recycle": false },
    { "source": "decanteur", "target": "bassin",    "fraction": 0.6, "is_recycle": true  }
  ]
}
